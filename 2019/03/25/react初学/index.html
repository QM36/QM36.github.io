<!DOCTYPE html>
<html>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="主要概念一、 列表&amp;amp;keys 在不用打包的项目中如果要展示一个列表，这个列表中的数据从一个接口中获取，那就要用到for循环了。但是react中没有类似vue的v-for，所以对于这种需求，在 react中，一般采用数组的map方法，如以下例子所示  1234const numbers = [1, 2, 3, 4, 5];const listItems = numbers.map((numb">
<meta property="og:type" content="article">
<meta property="og:title" content="React初学(2019-4-2)">
<meta property="og:url" content="https://qm36.github.io/2019/03/25/react初学/index.html">
<meta property="og:site_name" content="QM36&#39;S BLOG">
<meta property="og:description" content="主要概念一、 列表&amp;amp;keys 在不用打包的项目中如果要展示一个列表，这个列表中的数据从一个接口中获取，那就要用到for循环了。但是react中没有类似vue的v-for，所以对于这种需求，在 react中，一般采用数组的map方法，如以下例子所示  1234const numbers = [1, 2, 3, 4, 5];const listItems = numbers.map((numb">
<meta property="og:updated_time" content="2019-04-08T10:32:12.799Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="React初学(2019-4-2)">
<meta name="twitter:description" content="主要概念一、 列表&amp;amp;keys 在不用打包的项目中如果要展示一个列表，这个列表中的数据从一个接口中获取，那就要用到for循环了。但是react中没有类似vue的v-for，所以对于这种需求，在 react中，一般采用数组的map方法，如以下例子所示  1234const numbers = [1, 2, 3, 4, 5];const listItems = numbers.map((numb">
    
    
        
          
              <link rel="shortcut icon" href="/images/favicon.ico">
          
        
        
          
            <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
          
        
        
          
            <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
          
        
    
    <!-- title -->
    <title>React初学(2019-4-2)</title>
    <!-- styles -->
    <link rel="stylesheet" href="/css/style.css">
    <!-- rss -->
    
    
</head>

<body>
    
      <div id="header-post">
  <a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="https://github.com/QM36">Projects</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" href="/2019/04/02/Redux初学/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li>
        
        
        <li><a class="icon" href="/2018/12/29/滴滴又一面/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li>
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li>
        <li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=https://qm36.github.io/2019/03/25/react初学/"><i class="fa fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=https://qm36.github.io/2019/03/25/react初学/&text=React初学(2019-4-2)"><i class="fa fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https://qm36.github.io/2019/03/25/react初学/&title=React初学(2019-4-2)"><i class="fa fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https://qm36.github.io/2019/03/25/react初学/&is_video=false&description=React初学(2019-4-2)"><i class="fa fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=React初学(2019-4-2)&body=Check out this article: https://qm36.github.io/2019/03/25/react初学/"><i class="fa fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=https://qm36.github.io/2019/03/25/react初学/&title=React初学(2019-4-2)"><i class="fa fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=https://qm36.github.io/2019/03/25/react初学/&title=React初学(2019-4-2)"><i class="fa fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=https://qm36.github.io/2019/03/25/react初学/&title=React初学(2019-4-2)"><i class="fa fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=https://qm36.github.io/2019/03/25/react初学/&title=React初学(2019-4-2)"><i class="fa fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=https://qm36.github.io/2019/03/25/react初学/&name=React初学(2019-4-2)&description="><i class="fa fa-tumblr " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#主要概念"><span class="toc-number">1.</span> <span class="toc-text"><a href="#&#x4E3B;&#x8981;&#x6982;&#x5FF5;" class="headerlink" title="&#x4E3B;&#x8981;&#x6982;&#x5FF5;"></a>&#x4E3B;&#x8981;&#x6982;&#x5FF5;</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#一、-列表-amp-keys"><span class="toc-number">1.0.0.1.</span> <span class="toc-text"><a href="#&#x4E00;&#x3001;-&#x5217;&#x8868;-amp-keys" class="headerlink" title="&#x4E00;&#x3001; &#x5217;&#x8868;&amp;keys"></a>&#x4E00;&#x3001; &#x5217;&#x8868;&amp;keys</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#二、表单"><span class="toc-number">1.0.0.2.</span> <span class="toc-text"><a href="#&#x4E8C;&#x3001;&#x8868;&#x5355;" class="headerlink" title="&#x4E8C;&#x3001;&#x8868;&#x5355;"></a>&#x4E8C;&#x3001;&#x8868;&#x5355;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#三、状态提升"><span class="toc-number">1.0.0.3.</span> <span class="toc-text"><a href="#&#x4E09;&#x3001;&#x72B6;&#x6001;&#x63D0;&#x5347;" class="headerlink" title="&#x4E09;&#x3001;&#x72B6;&#x6001;&#x63D0;&#x5347;"></a>&#x4E09;&#x3001;&#x72B6;&#x6001;&#x63D0;&#x5347;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#四、组装"><span class="toc-number">1.0.0.4.</span> <span class="toc-text"><a href="#&#x56DB;&#x3001;&#x7EC4;&#x88C5;" class="headerlink" title="&#x56DB;&#x3001;&#x7EC4;&#x88C5;"></a>&#x56DB;&#x3001;&#x7EC4;&#x88C5;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#五、react理念——组件的拆分与状态的选取"><span class="toc-number">1.0.0.5.</span> <span class="toc-text"><a href="#&#x4E94;&#x3001;react&#x7406;&#x5FF5;&#x2014;&#x2014;&#x7EC4;&#x4EF6;&#x7684;&#x62C6;&#x5206;&#x4E0E;&#x72B6;&#x6001;&#x7684;&#x9009;&#x53D6;" class="headerlink" title="&#x4E94;&#x3001;react&#x7406;&#x5FF5;&#x2014;&#x2014;&#x7EC4;&#x4EF6;&#x7684;&#x62C6;&#x5206;&#x4E0E;&#x72B6;&#x6001;&#x7684;&#x9009;&#x53D6;"></a>&#x4E94;&#x3001;react&#x7406;&#x5FF5;&#x2014;&#x2014;&#x7EC4;&#x4EF6;&#x7684;&#x62C6;&#x5206;&#x4E0E;&#x72B6;&#x6001;&#x7684;&#x9009;&#x53D6;</span></a></li></ol></li></ol></li></ol></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index width mx-auto px2 my4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        React初学(2019-4-2)
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">QM36'S BLOG</span>
      </span>
      
    <div class="postdate">
        <time datetime="2019-03-25T07:26:38.856Z" itemprop="datePublished">2019-03-25</time>
    </div>


      

    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <h1 id="主要概念"><a href="#主要概念" class="headerlink" title="主要概念"></a>主要概念</h1><h4 id="一、-列表-amp-keys"><a href="#一、-列表-amp-keys" class="headerlink" title="一、 列表&amp;keys"></a>一、 列表&amp;keys</h4><ol>
<li><p>在不用打包的项目中如果要展示一个列表，这个列表中的数据从一个接口中获取，那就要用到<code>for</code>循环了。但是<code>react</code>中没有类似<code>vue</code>的<code>v-for</code>，所以对于这种需求，在 <code>react</code>中，一般采用数组的<code>map</code>方法，如以下例子所示</p>
 <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> numbers = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"><span class="keyword">const</span> listItems = numbers.map(<span class="function">(<span class="params">number</span>) =&gt;</span></span><br><span class="line">  &lt;li&gt;&#123;number&#125;&lt;<span class="regexp">/li&gt;</span></span><br><span class="line"><span class="regexp">);</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>需要注意的一点是，react要求列表的每一项都有一个唯一的<code>key</code>，这样可以准确的对每一项进行修改，如下：</p>
 <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> todoItems = todos.map(<span class="function">(<span class="params">todo, index</span>) =&gt;</span></span><br><span class="line">  &lt;li key=&#123;index&#125;&gt;</span><br><span class="line">    &#123;todo.text&#125;</span><br><span class="line">  &lt;<span class="regexp">/li&gt;</span></span><br><span class="line"><span class="regexp">);</span></span><br></pre></td></tr></table></figure>
<p> 但是在官方文档中提出，如果组件的顺序发生变换就不推荐使用<code>map</code>中的<code>index</code>作为<code>key</code>，因为这可能对性能造成负面影响，并且可能导致组件状态出现问题</p>
</li>
<li><p>还有一点需要注意，就是<code>key</code>的添加位置，不能单纯加载类似<code>&lt;li&gt;</code>标签的上面，而是要结合数组的<code>map</code>，如下：</p>
 <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ListItem</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 在这里不需要加key</span></span><br><span class="line">  <span class="keyword">return</span> &lt;li&gt;&#123;props.value&#125;&lt;/li&gt;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">NumberList</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> numbers = props.numbers;</span><br><span class="line">  <span class="keyword">const</span> listItems = numbers.map(<span class="function">(<span class="params">number</span>) =&gt;</span></span><br><span class="line">    <span class="comment">// 这里用到数组的map，所以加载这里</span></span><br><span class="line">    &lt;ListItem key=&#123;number.toString()&#125;</span><br><span class="line">              value=&#123;number&#125; /&gt;</span><br><span class="line"></span><br><span class="line">  );</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">      &#123;listItems&#125;</span><br><span class="line">    &lt;<span class="regexp">/ul&gt;</span></span><br><span class="line"><span class="regexp">  );</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">const numbers = [1, 2, 3, 4, 5];</span></span><br><span class="line"><span class="regexp">ReactDOM.render(</span></span><br><span class="line"><span class="regexp">  &lt;NumberList numbers=&#123;numbers&#125; /</span>&gt;,</span><br><span class="line">  <span class="built_in">document</span>.getElementById(<span class="string">'root'</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
</li>
<li><p>对于key的唯一性是相对于兄弟节点之间的，但是全局之下，对于不同的数组，是可以用相同的<code>key</code>值</p>
</li>
<li><p>对于写法的优化：<code>map</code>可以直接嵌套在<code>jsx</code>中</p>
 <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">NumberList</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> numbers = props.numbers;</span><br><span class="line">  <span class="keyword">const</span> listItems = numbers.map(<span class="function">(<span class="params">number</span>) =&gt;</span></span><br><span class="line">    &lt;ListItem key=&#123;number.toString()&#125;</span><br><span class="line">              value=&#123;number&#125; /&gt;</span><br><span class="line"></span><br><span class="line">  );</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">      &#123;listItems&#125; <span class="comment">//这里没有嵌套</span></span><br><span class="line">    &lt;<span class="regexp">/ul&gt;</span></span><br><span class="line"><span class="regexp">  );</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">function NumberList(props) &#123;</span></span><br><span class="line"><span class="regexp">  const numbers = props.numbers;</span></span><br><span class="line"><span class="regexp">  return (</span></span><br><span class="line"><span class="regexp">    &lt;ul&gt;</span></span><br><span class="line"><span class="regexp">      &#123;numbers.map((number) =&gt; /</span><span class="regexp">/嵌套</span></span><br><span class="line"><span class="regexp">        &lt;ListItem key=&#123;number.toString()&#125;</span></span><br><span class="line"><span class="regexp">                  value=&#123;number&#125; /</span>&gt;</span><br><span class="line"></span><br><span class="line">      )&#125;</span><br><span class="line">    &lt;<span class="regexp">/ul&gt;</span></span><br><span class="line"><span class="regexp">  );</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<h4 id="二、表单"><a href="#二、表单" class="headerlink" title="二、表单"></a>二、表单</h4><ol>
<li>在官方文档中，关于表单介绍了几种形式：<code>&lt;input&gt;</code>,<code>&lt;textarea&gt;</code>, <code>&lt;select&gt;</code>，这些组件的值都是依据用户输入，因此用户输入就是唯一的数据源，因此这个唯一的数据源是控制这些组件的变化，这些组件也就是受控组件</li>
<li><p>以上组件都有<code>value</code>属性，这个属性就是用户输入的值。值得一提的是在<code>&lt;select&gt;</code>中，只需要从根节点获取<code>value</code>即可，如下：</p>
 <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;select value=&#123;<span class="keyword">this</span>.state.value&#125; onChange=&#123;<span class="keyword">this</span>.handleChange&#125;&gt;</span><br><span class="line">    &lt;option value=<span class="string">"grapefruit"</span>&gt;Grapefruit&lt;<span class="regexp">/option&gt;</span></span><br><span class="line"><span class="regexp">    &lt;option value="lime"&gt;Lime&lt;/</span>option&gt;</span><br><span class="line">    &lt;option value=<span class="string">"coconut"</span>&gt;Coconut&lt;<span class="regexp">/option&gt;</span></span><br><span class="line"><span class="regexp">    &lt;option value="mango"&gt;Mango&lt;/</span>option&gt;</span><br><span class="line">&lt;<span class="regexp">/select&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>如何控制多个输入，在<code>es6</code>中提出一种新语法，它可以跟新给定的状态的值：</p>
 <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.setState(&#123;</span><br><span class="line">  [name]: value</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h4 id="三、状态提升"><a href="#三、状态提升" class="headerlink" title="三、状态提升"></a>三、状态提升</h4><ol>
<li>他的理念就是：如果两个组件依据同一个状态值需要同步的更新，那么这个状态值就需要从这两个组件提升至他们最邻近的父组件中。</li>
</ol>
<h4 id="四、组装"><a href="#四、组装" class="headerlink" title="四、组装"></a>四、组装</h4><ol>
<li>因为涉及的组件的复用性，所以会讲到组装，何为组装，就是特定场景的组件引用一种通用的组件。这种通用的组件可以被用在多个地方，他们可以被当做子组件，而引用这些组件的就是这些组件的父组件，父组件负责向子组件传入特定的值，渲染出特定的组件。</li>
<li><p>这种传值通过<code>props.children</code>以及其他的想要传递的其他名称，可以传递普通的值，也可以传入你想要的任何对象(<code>function</code>或<code>react elements</code>)</p>
 <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">SplitPane</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line"><span class="keyword">return</span> (</span><br><span class="line">    &lt;div className=<span class="string">"SplitPane"</span>&gt;</span><br><span class="line">      &lt;div className=<span class="string">"SplitPane-left"</span>&gt;</span><br><span class="line">        &#123;props.left&#125;</span><br><span class="line">      &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">      &lt;div className="SplitPane-right"&gt;</span></span><br><span class="line"><span class="regexp">        &#123;props.right&#125;</span></span><br><span class="line"><span class="regexp">      &lt;/</span>div&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  );</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">function App() &#123;</span></span><br><span class="line"><span class="regexp">  return (</span></span><br><span class="line"><span class="regexp">    &lt;SplitPane</span></span><br><span class="line"><span class="regexp">      left=&#123;</span></span><br><span class="line"><span class="regexp">        &lt;Contacts /</span>&gt; <span class="comment">//这里传递的就是其他的组件</span></span><br><span class="line">      &#125;</span><br><span class="line">      right=&#123;</span><br><span class="line">        &lt;Chat /&gt;</span><br><span class="line">      &#125; /&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
 <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Dialog</span>(<span class="params">props</span>) </span>&#123; <span class="comment">//这是子组件</span></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;FancyBorder color=<span class="string">"blue"</span>&gt;</span><br><span class="line">      &#123;props.children&#125;</span><br><span class="line">    &lt;<span class="regexp">/FancyBorder&gt;</span></span><br><span class="line"><span class="regexp">  );</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">class SignUpDialog extends React.Component &#123; /</span><span class="regexp">/这是父组件</span></span><br><span class="line"><span class="regexp">  constructor(props) &#123;</span></span><br><span class="line"><span class="regexp">    super(props);</span></span><br><span class="line"><span class="regexp">    this.state = &#123;login: ''&#125;;</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">  render() &#123;</span></span><br><span class="line"><span class="regexp">    return (</span></span><br><span class="line"><span class="regexp">      &lt;Dialog &gt;</span></span><br><span class="line"><span class="regexp">        &lt;input value=&#123;this.state.login&#125;</span></span><br><span class="line"><span class="regexp">               onChange=&#123;this.handleChange&#125; /</span>&gt;</span><br><span class="line">        &lt;button onClick=&#123;<span class="keyword">this</span>.handleSignUp&#125;&gt;</span><br><span class="line">          Sign Me Up!</span><br><span class="line">        &lt;<span class="regexp">/button&gt; /</span><span class="regexp">/这里面的所有内容都对应props.children，父组件向子组件传值</span></span><br><span class="line"><span class="regexp">      &lt;/</span>Dialog&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>在何种场景去运用组装呢？官方文档中指出，如果想复用组件的功能而与<code>UI</code>无关，这个时候就可以将这个功能抽离出来成为一个独立的组件，这样其他组件可以<code>import</code>这个组件，而不需要对他进行任何扩展</p>
</li>
</ol>
<h4 id="五、react理念——组件的拆分与状态的选取"><a href="#五、react理念——组件的拆分与状态的选取" class="headerlink" title="五、react理念——组件的拆分与状态的选取"></a>五、react理念——组件的拆分与状态的选取</h4><ol>
<li>第一步：把<code>UI</code>划分成层级组件。划分的原则基于单一职责原则，而且这种拆分和设计者在<code>PhotoShop</code>中的图层是类似的</li>
<li>第二步：用<code>React</code>创建一个静态的版本。在这一步，完全不需要用到任何的<code>state</code>，可以从层级关系的上到下，也可以下到上。这些组件只有一个方法就是<code>render</code>。在这里需要搞清楚<code>props</code>和<code>state</code>的区别，前者是从父组件获取到的状态值，后者是此组件自己的状态值</li>
<li>第三部：定义<code>UI</code>状态最小的单是完整的表示，也就是明确带有状态的组件。这里需要保证不要重复，对于<code>state</code>的区分把握三个原则：<ul>
<li>如果他是从父组件传来的，可能不是<code>state</code></li>
<li>如果他不会随着时间变化，可能不是<code>state</code></li>
<li>如果他能根据组件中的其他<code>state</code>或<code>props</code>计算得来，可能不是<code>state</code></li>
</ul>
</li>
<li>第四步：明确<code>state</code>应该位于哪个组件，首先需要对<code>state</code>做出如下理解：<ul>
<li>明确基于这个状态渲染出来的每一个组件</li>
<li>找到这个状态的共同拥有者以及他们的高一级的需要用到这个状态的组件</li>
<li>共同拥有状态的组件还是高一级的组件都需要用到这个状态</li>
<li>如果你没有找到可以拥有这个状态的组件，可以创建一个仅仅用来保存状态的组件放在共同拥有某状态的组件的上一级</li>
</ul>
</li>
<li>第五步：添加反向数据流。这一步的目的是为了能让子组件去改变父组件的状态，因为有些时候状态的改变是从子组件触发的。这个时候需要父组件向子组件传递回调函数了，这个函数在父组件中定义，触发在子组件，这样就可以达到目的</li>
</ol>

  </div>
</article>



    </div>
    
      <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="https://github.com/QM36">Projects</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#主要概念"><span class="toc-number">1.</span> <span class="toc-text"><a href="#&#x4E3B;&#x8981;&#x6982;&#x5FF5;" class="headerlink" title="&#x4E3B;&#x8981;&#x6982;&#x5FF5;"></a>&#x4E3B;&#x8981;&#x6982;&#x5FF5;</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#一、-列表-amp-keys"><span class="toc-number">1.0.0.1.</span> <span class="toc-text"><a href="#&#x4E00;&#x3001;-&#x5217;&#x8868;-amp-keys" class="headerlink" title="&#x4E00;&#x3001; &#x5217;&#x8868;&amp;keys"></a>&#x4E00;&#x3001; &#x5217;&#x8868;&amp;keys</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#二、表单"><span class="toc-number">1.0.0.2.</span> <span class="toc-text"><a href="#&#x4E8C;&#x3001;&#x8868;&#x5355;" class="headerlink" title="&#x4E8C;&#x3001;&#x8868;&#x5355;"></a>&#x4E8C;&#x3001;&#x8868;&#x5355;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#三、状态提升"><span class="toc-number">1.0.0.3.</span> <span class="toc-text"><a href="#&#x4E09;&#x3001;&#x72B6;&#x6001;&#x63D0;&#x5347;" class="headerlink" title="&#x4E09;&#x3001;&#x72B6;&#x6001;&#x63D0;&#x5347;"></a>&#x4E09;&#x3001;&#x72B6;&#x6001;&#x63D0;&#x5347;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#四、组装"><span class="toc-number">1.0.0.4.</span> <span class="toc-text"><a href="#&#x56DB;&#x3001;&#x7EC4;&#x88C5;" class="headerlink" title="&#x56DB;&#x3001;&#x7EC4;&#x88C5;"></a>&#x56DB;&#x3001;&#x7EC4;&#x88C5;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#五、react理念——组件的拆分与状态的选取"><span class="toc-number">1.0.0.5.</span> <span class="toc-text"><a href="#&#x4E94;&#x3001;react&#x7406;&#x5FF5;&#x2014;&#x2014;&#x7EC4;&#x4EF6;&#x7684;&#x62C6;&#x5206;&#x4E0E;&#x72B6;&#x6001;&#x7684;&#x9009;&#x53D6;" class="headerlink" title="&#x4E94;&#x3001;react&#x7406;&#x5FF5;&#x2014;&#x2014;&#x7EC4;&#x4EF6;&#x7684;&#x62C6;&#x5206;&#x4E0E;&#x72B6;&#x6001;&#x7684;&#x9009;&#x53D6;"></a>&#x4E94;&#x3001;react&#x7406;&#x5FF5;&#x2014;&#x2014;&#x7EC4;&#x4EF6;&#x7684;&#x62C6;&#x5206;&#x4E0E;&#x72B6;&#x6001;&#x7684;&#x9009;&#x53D6;</span></a></li></ol></li></ol></li></ol></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=https://qm36.github.io/2019/03/25/react初学/"><i class="fa fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=https://qm36.github.io/2019/03/25/react初学/&text=React初学(2019-4-2)"><i class="fa fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https://qm36.github.io/2019/03/25/react初学/&title=React初学(2019-4-2)"><i class="fa fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https://qm36.github.io/2019/03/25/react初学/&is_video=false&description=React初学(2019-4-2)"><i class="fa fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=React初学(2019-4-2)&body=Check out this article: https://qm36.github.io/2019/03/25/react初学/"><i class="fa fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=https://qm36.github.io/2019/03/25/react初学/&title=React初学(2019-4-2)"><i class="fa fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=https://qm36.github.io/2019/03/25/react初学/&title=React初学(2019-4-2)"><i class="fa fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=https://qm36.github.io/2019/03/25/react初学/&title=React初学(2019-4-2)"><i class="fa fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=https://qm36.github.io/2019/03/25/react初学/&title=React初学(2019-4-2)"><i class="fa fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=https://qm36.github.io/2019/03/25/react初学/&name=React初学(2019-4-2)&description="><i class="fa fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
      <ul>
        <li id="toc"><a class="icon" href="#" onclick='$("#toc-footer").toggle();return false;'><i class="fa fa-list fa-lg" aria-hidden="true"></i> TOC</a></li>
        <li id="share"><a class="icon" href="#" onclick='$("#share-footer").toggle();return false;'><i class="fa fa-share-alt fa-lg" aria-hidden="true"></i> Share</a></li>
        <li id="top" style="display:none"><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a></li>
        <li id="menu"><a class="icon" href="#" onclick='$("#nav-footer").toggle();return false;'><i class="fa fa-bars fa-lg" aria-hidden="true"></i> Menu</a></li>
      </ul>
    </div>

  </div>
</div>

    
    <footer id="footer">
  <div class="footer-left">
    Copyright &copy; 2019 qumeng
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="https://github.com/QM36">Projects</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

</body>
</html>
<!-- styles -->
<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">
<link rel="stylesheet" href="/lib/meslo-LG/styles.css">
<link rel="stylesheet" href="/lib/justified-gallery/justifiedGallery.min.css">


<!-- jquery -->
<script src="/lib/jquery/jquery.min.js"></script>
<script src="/lib/justified-gallery/jquery.justifiedGallery.min.js"></script>
<script src="/js/main.js"></script>
<!-- Google Analytics -->

    <script type="text/javascript">
        (function(i,s,o,g,r,a,m) {i['GoogleAnalyticsObject']=r;i[r]=i[r]||function() {
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-86660611-1', 'auto');
        ga('send', 'pageview');
    </script>

<!-- Disqus Comments -->


